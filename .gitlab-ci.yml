image: registry.gitlab.com/tokenmill/nlg/augmented-writter/demo-test-env:latest

test:preact_demo:
    script:
        - make test

lexical-analysis:code-linter:
  image: python:3.7.1-alpine3.8
  stage: test
  when: on_success
  script:
    - pip install flake8
    - flake8 lexical-analyser/api
    - flake8 lexical-analyser/core
    
lexical-analysis:unit-tests:
  image: python:3.7.1-alpine3.8
  stage: test
  when: on_success
  script:
    - pip install pytest
    - pip install pytest-flask
    - (cd lexical-analyser && python -m pytest tests)
